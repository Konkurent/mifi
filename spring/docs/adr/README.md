# Architecture Decision Records (ADR)

Этот каталог содержит документы, описывающие ключевые архитектурные решения проекта.

## Каталог ADR

- [ADR-001: Микросервисная архитектура](001-microservices-architecture.md)  
  Решение использовать микросервисную архитектуру вместо монолита.

- [ADR-002: Saga Pattern с компенсацией](002-saga-pattern-compensation.md)  
  Реализация распределенных транзакций через Saga pattern с компенсацией.

- [ADR-003: Идемпотентность через ProcessedRequest](003-idempotency-processed-requests.md)  
  Обеспечение идемпотентности операций через таблицу обработанных запросов.

- [ADR-004: Оптимистичная блокировка](004-optimistic-locking.md)  
  Использование оптимистичной блокировки для параллельных операций.

- [ADR-005: Равномерное распределение нагрузки по номерам](005-load-balancing-rooms.md)  
  Алгоритм распределения нагрузки через сортировку по timesBooked.

- [ADR-006: Централизованное получение CustomerDetails](006-centralized-customer-details.md)  
  Получение пользовательских данных через auth-service вместо дублирования.

## Формат ADR

Каждый ADR документ следует стандартному формату:

1. **Статус** - текущее состояние решения
2. **Контекст** - ситуация, приведшая к необходимости решения
3. **Решение** - выбранный подход и его реализация
4. **Обоснование** - аргументы за и против
5. **Альтернативы** - рассмотренные и отклоненные варианты
6. **Последствия** - влияние на систему
7. **Резюме** - краткое заключение

## Принятые решения (без детальных ADR)

- **ADR-007: Retry механизм** - описан в основном README
- **ADR-008: Spring Cloud Gateway** - описан в основном README

## Как создать новый ADR

1. Создайте файл `NNN-title.md` где NNN - следующий номер
2. Используйте шаблон из существующих ADR
3. Обновите этот индекс
4. Добавьте краткое описание в основной README

